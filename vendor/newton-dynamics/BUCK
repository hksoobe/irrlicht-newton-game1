cxx_precompiled_header(
    name = "dAnimationStdAfx",
    src = "packages/dAnimation/dAnimationStdAfx.h",
    deps = [ ":dMath", ":dContainers" ],
)

cxx_library(
    name = "dAnimation",
    precompiled_header = ":dAnimationStdAfx",
    headers = glob([ "packages/dAnimation/*.h" ]),
    exported_headers = subdir_glob([ ("packages/dAnimation", "*.h") ]),
    header_namespace = "",
    srcs = glob([ "packages/dAnimation/*.cpp" ]),
    deps = [
        ":dMath",
        ":dContainers",
    ],
    visibility = [ "PUBLIC" ],
)

cxx_precompiled_header(
    name = "dContainersStdAfx",
    src = "packages/dContainers/dContainersStdAfx.h",
    deps = [ ":dMath" ],
)

cxx_library(
    name = "dContainers",
    precompiled_header = ":dContainersStdAfx",
    headers = glob([ "packages/dContainers/*.h" ]),
    exported_headers = subdir_glob([ ("packages/dContainers", "*.h") ]),
    header_namespace = "",
    srcs = glob([ "packages/dContainers/*.cpp" ]),
    deps = [
        ":dMath",
    ],
    visibility = [ "PUBLIC" ],
)

cxx_precompiled_header(
    name = "CustomJointLibraryStdAfx",
    src = "packages/dCustomJoints/CustomJointLibraryStdAfx.h",
    deps = [
        ":dMath",
        ":dContainers",
        "//vendor/newton-dynamics/coreLibrary_300:NewtonStatic",
    ],
)

cxx_library(
    name = "dCustomJoints",
    precompiled_header = ":CustomJointLibraryStdAfx",
    headers = glob([ "packages/dCustomJoints/*.h" ]),
    exported_headers = subdir_glob([ ("packages/dCustomJoints", "*.h") ]),
    header_namespace = "",
    srcs = glob([ "packages/dCustomJoints/*.cpp" ]),
    deps = [
        ":dMath",
        ":dContainers",
        "//vendor/newton-dynamics/coreLibrary_300:NewtonStatic",
    ],
    visibility = [ "PUBLIC" ],
)

cxx_precompiled_header(
    name = "dStdAfxMath",
    src = "packages/dMath/dStdAfxMath.h",
)

cxx_library(
    name = "dMath",
    precompiled_header = ":dStdAfxMath",
    headers = glob([ "packages/dMath/*.h" ]),
    exported_headers = subdir_glob([ ("packages/dMath", "*.h") ]),
    header_namespace = "",
    srcs = glob([ "packages/dMath/*.cpp" ]),
    visibility = [ "PUBLIC" ],
)

cxx_precompiled_header(
    name = "dSceneStdAfx",
    src = "packages/dScene/dSceneStdAfx.h",
    deps = [
        ":dMath",
        ":dContainers",
        ":dAnimation",
        "//vendor/newton-dynamics/coreLibrary_300:NewtonStatic",
        "//vendor/tinyxml:tinyxml",
    ],
)

cxx_library(
    name = "dScene",
    precompiled_header = ":dSceneStdAfx",
    headers = glob([ "packages/dScene/*.h" ]),
    exported_headers = subdir_glob([ ("packages/dScene", "*.h") ]),
    header_namespace = "",
    srcs = glob([ "packages/dScene/*.cpp" ]),
    deps = [
        ":dMath",
        ":dContainers",
        ":dAnimation",
        "//vendor/newton-dynamics/coreLibrary_300:NewtonStatic",
        "//vendor/tinyxml:tinyxml"
    ],
    exported_deps = [ "//vendor/tinyxml:tinyxml" ],
    visibility = [ "PUBLIC" ],
)

cxx_library(
    name = "dVisualDebuggerServer",
    headers = glob([ "packages/dVisualDebuggerServer/*.h" ]),
    exported_headers = subdir_glob([ ("packages/dVisualDebuggerServer", "*.h") ]),
    header_namespace = "",
    srcs = glob([ "packages/dVisualDebuggerServer/*.cpp" ]),
    deps = [
        ":dMath",
        ":dContainers",
        ":dAnimation",
        "//vendor/newton-dynamics/coreLibrary_300:NewtonStatic",
        "//vendor/enet:enet"
    ],
    exported_deps = [ "//vendor/enet:enet" ],
    visibility = [ "PUBLIC" ],
)

cxx_library(
    name = "newton-dynamics-shared",
    deps = [
        "//vendor/newton-dynamics/coreLibrary_300:Newton",
        ":dContainers",
        ":dAnimation",
        ":dCustomJoints",
        ":dMath",
        ":dScene",
    ],
    exported_deps = [
        "//vendor/newton-dynamics/coreLibrary_300:Newton",
        ":dContainers",
        ":dAnimation",
        ":dCustomJoints",
        ":dMath",
        ":dScene",
    ],
    visibility = [ "PUBLIC" ]
)

cxx_library(
    name = "newton-dynamics",
    deps = [
        "//vendor/newton-dynamics/coreLibrary_300:NewtonStatic",
        ":dContainers",
        ":dAnimation",
        ":dCustomJoints",
        ":dMath",
        ":dScene",
    ],
    exported_deps = [
        "//vendor/newton-dynamics/coreLibrary_300:NewtonStatic",
        ":dContainers",
        ":dAnimation",
        ":dCustomJoints",
        ":dMath",
        ":dScene",
    ],
    visibility = [ "PUBLIC" ]
)

